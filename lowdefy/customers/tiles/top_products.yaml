id: card_top_products
type: Card
blocks:
  - id: title_top_products
    type: Title
    properties:
      content: Top Selling Products
      level: 4
  - id: table_top_products
    type: AgGrid
    properties:
      theme: basic
      rowData:
        _request: top_products
      columnDefs:
        - headerName: Title
          field: title
          width: 250
        - headerName: Customers
          field: total_customers
          width: 150
          type: numericColumn
          valueFormatter:
            _global: integer_format
        - headerName: Quantity
          field: quantity
          width: 150
          type: numericColumn
          valueFormatter:
            _global: integer_format
        - headerName: Orders
          field: count
          width: 150
          type: numericColumn
          valueFormatter:
            _global: integer_format
        - headerName: Product Type
          field: product_type
          width: 200
        - headerName: Tags
          field: tags
          width: 200
        - headerName: Vendor
          field: vendor
          width: 200
      defaultColDef:
        filter: true
        resizable: true
        sortable: true
    actions:
      onRowClick:
        - id: open_modal
          type: setState()
          params:
            select_customer_modal_open: true
            selected_customers: 
              _args: row.customers
